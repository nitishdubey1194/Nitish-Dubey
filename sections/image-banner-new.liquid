{{ 'section-image-banner.css' | asset_url | stylesheet_tag }}
{%- style -%}
    @media screen and (max-width: 749px) {
      #Banner-{{ section.id }}::before,
      #Banner-{{ section.id }} .banner__media::before,
      #Banner-{{ section.id }}:not(.banner--mobile-bottom) .banner__content::before {
        padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;
        content: '';
        display: block;
      }
    }

    @media screen and (min-width: 750px) {
      #Banner-{{ section.id }}::before,
      #Banner-{{ section.id }} .banner__media::before {
        padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;
        content: '';
        display: block;
      }
    }
  {%- endstyle -%}
<div
  id="Banner-{{ section.id }}"
  class="banner banner--content-align-center"
>
    <div class="banner__media media">
        {%- liquid
        assign widths = '375, 550, 750, 1100, 1500, 1780, 2000, 3000, 3840'
        assign image_height = section.settings.image.width | divided_by: section.settings.image.aspect_ratio
        -%}
        {{
            section.settings.image
            | image_url: width: 3840
            | image_tag:
            width: section.settings.image.width,
            height: image_height,
            sizes: "100vw",
            widths: widths,
            fetchpriority: "auto"
        }}
    </div>
</div>
{% schema %}
    {
        "name": "Image Banner New",
        "tag": "section",
        "class": "section",
        "settings": [
            {
                "type": "image_picker",
                "id": "image",
                "label": "t:sections.image-banner.settings.image.label"
            }
        ],
        "blocks": [],
        "presets": [
            {
                "name": "Image Banner New"
            }
        ]
    }
{% endschema %}